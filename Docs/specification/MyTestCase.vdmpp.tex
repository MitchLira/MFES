\begin{vdmpp}[breaklines=true]
/*
 * Superclass for test classes, simpler but more practical than VDMUnit`TestCase.
 * For proper use, you have to do: New -> Add VDM Library -> IO.
 * JPF, FEUP, MFES, 2014/15.
 */
class MyTestCase
operations

  /**
   * Simulates assertion checking by reducing it to pre-condition checking.
   * If 'arg' does not hold, a pre-condition violation will be signaled.
   */
(*@
\label{assertTrue:13}
@*)
  protected assertTrue: bool ==> ()
  assertTrue(arg) ==
    (*@\vdmnotcovered{return}@*)
  pre (*@\vdmnotcovered{arg}@*);

  /**
   * Simulates assertion checking by reducing it to post-condition checking.
   * If values are not equal, prints a message in the console and generates
   * a post-conditions violation.
   */
(*@
\label{assertEqual:23}
@*)
  protected assertEqual: ? * ? ==> ()
  assertEqual(expected, actual) ==
    if expected <> actual then (*@\vdmnotcovered{(}@*)
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"Actual value ("}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{actual}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{") different from expected ("}@*));
      IO`print((*@\vdmnotcovered{expected}@*));
      IO`println((*@\vdmnotcovered{")\textbackslash n"}@*))
    )
  post expected = actual

end MyTestCase
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[assertEqual:23]{assertEqual} & 23&38.8\% & 0 \\
\hline
\hyperref[assertTrue:13]{assertTrue} & 13&0.0\% & 0 \\
\hline
\hline
MyTestCase.vdmpp & & 35.0\% & 0 \\
\hline
\end{longtable}

